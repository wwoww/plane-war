window.__require=function e(t,n,o){function i(a,l){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var h="function"==typeof __require&&__require;if(!l&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}}var r=n[a]={exports:{}};t[a][0].call(r.exports,function(e){return i(t[a][1][e]||e)},r,r.exports,e,t,n,o)}return n[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"d5fc9bLf8JI+pJ/KTelJL7+","Enemy"),cc.Class({extends:cc.Component,properties:{enemy_skin:{default:[],type:cc.SpriteFrame},enemy_bullet_prefab:{default:null,type:cc.Prefab},player_path:"Canvas/player"},onLoad:function(){this.speed_x=0,this.speed_y=-200,this.anim=this.node.getChildByName("anim"),this.root=cc.find("Canvas"),this.game_scene=cc.find("Canvas").getComponent("Game"),this.flag=0},start:function(){this._set_enemy_idle(),this.schedule(this.shoot_enemy_bullet.bind(this),1)},_set_enemy_idle:function(){var e=9*Math.random()+1;(e=Math.floor(e))>=10&&(e=9),this.anim.getComponent(cc.Sprite).spriteFrame=this.enemy_skin[e-1]},shoot_enemy_bullet:function(){var e=cc.instantiate(this.enemy_bullet_prefab);this.node.parent.addChild(e),e.x=this.node.x,e.y=this.node.y},shoot_enemy_more_bullet:function(){if(!(Math.random()>.4)){var e=[];e[0]=cc.instantiate(this.enemy_bullet_prefab),e[1]=cc.instantiate(this.enemy_bullet_prefab),this.node.parent.addChild(e[0]),this.node.parent.addChild(e[1]),e[0].x=this.node.x+15,e[0].y=this.node.y,e[0].getComponent("enemy_bullet_js").speed_x=100,e[1].x=this.node.x-15,e[1].y=this.node.y,e[1].getComponent("enemy_bullet_js").speed_x=-100}},shoot_forever:function(){this.schedule(this.shoot_enemy_bullet.bind(this),.5)},onCollisionEnter:function(e,t){this.anim.getComponent(cc.Animation).play(),this.scheduleOnce(function(){this.node.removeFromParent()},.2),this.game_scene.add_score()},update:function(e){var t=this.speed_x*e,n=this.speed_y*e;this.node.x+=t,this.node.y+=n,0==this.flag&&this.game_scene.game_level>=5&&(this.flag=1,this.schedule(this.shoot_enemy_more_bullet.bind(this),1)),this.node.y<-1e3&&this.node.removeFromParent()}}),cc._RF.pop()},{}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"ee80etYIOZBC7NZP2nqdTl4","Game");var o=e("Enemy");cc.Class({extends:cc.Component,properties:{is_enbale:!0,groups_prefab:{default:[],type:cc.Prefab},enemy_js_component:{default:null,type:o},txtScore:cc.Label,txtLevel:cc.Label,nodePlayer:cc.Node,game_level:1},onLoad:function(){this.is_enbale&&(cc.director.getCollisionManager().enabled=!0),this.kill_num=0,this.lv=25,this.player=this.nodePlayer.getComponent("Player"),this.playagain=this.node.getChildByName("playagain"),this.playagain.zIndex=100},start:function(){this._gen_random_group(),this.player.play_shoot_more_bullet()},add_score:function(){this.kill_num++,this.txtScore.string=this.kill_num,this.kill_num>=this.lv&&(this.lv+=20,this.add_level())},add_level:function(){this.game_level++,this.txtLevel.string=this.game_level,3==this.game_level&&(this.player.shoot_flag=2,this.player.play_shoot_bullet())},_gen_random_group:function(){var e=this,t=Math.random()*this.groups_prefab.length+1;(t=Math.floor(t))>=this.groups_prefab.length&&(t=this.groups_prefab.length);var n=cc.instantiate(this.groups_prefab[t-1]);this.node.addChild(n),cc.log("#11"),n.x=200*(Math.random()-.5),n.y=100*Math.random()+500;var o=1*Math.random()+2;cc.tween(this.node).delay(o).call(function(){e._gen_random_group()}).start()},onClick:function(e,t){switch(t){case"again":cc.director.loadScene("game")}}}),cc._RF.pop()},{Enemy:"Enemy"}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"34976g4+oNIdp6YCUCy0U6G","Player"),cc.Class({extends:cc.Component,properties:{enemy_path:"Canvas/enemy",bullet_prefab:{type:cc.Prefab,default:null},player_prefab:{type:cc.Prefab,default:null}},onLoad:function(){var e=this;this.anim=this.node.getChildByName("anim"),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var n=t.getDelta();e.node.x+=n.x,e.node.y+=n.y,e.node.x>=180&&(e.node.x=180),e.node.x<=-180&&(e.node.x=-180),e.node.y<=-280&&(e.node.y=-280)}),this.shoot_flag=3,this.root=cc.find("Canvas"),this.palyAgain=cc.find("Canvas/playagain")},start:function(){},onCollisionEnter:function(e,t){this.anim.getComponent(cc.Animation).play(),this.scheduleOnce(function(){this.node.removeFromParent(),this.palyAgain.active=!0},1)},play_shoot_bullet:function(){this.schedule(this._shoot_bullet.bind(this),.5)},_shoot_bullet:function(){if(2==this.shoot_flag){var e=cc.instantiate(this.bullet_prefab);this.node.parent.addChild(e),e.x=this.node.x,e.y=this.node.y}},play_shoot_more_bullet:function(){this.schedule(this._shoot_more_bullet.bind(this),.5)},_shoot_more_bullet:function(){if(3==this.shoot_flag){for(var e=[],t=0;t<3;t++)e[t]=cc.instantiate(this.bullet_prefab),this.node.parent.addChild(e[t]);e[0].x=this.node.x,e[0].y=this.node.y,e[1].x=this.node.x-25,e[1].y=this.node.y,e[1].getComponent("bullet_js").speed_x=-100,e[2].x=this.node.x+25,e[2].y=this.node.y,e[2].getComponent("bullet_js").speed_x=100}}}),cc._RF.pop()},{}],bullet_js:[function(e,t,n){"use strict";cc._RF.push(t,"ea980X6oBVAN5Wyb4WWJ9Td","bullet_js"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.speed_x=0,this.speed_y=400,this.audio=this.node.getComponent(cc.AudioSource)},start:function(){},onCollisionEnter:function(e,t){this.node.removeFromParent(),this.audio.play()},update:function(e){var t=this.speed_x*e,n=this.speed_y*e;this.node.x+=t,this.node.y+=n,(this.node.y>=310||this.node.x>=210||this.node.x<=-210)&&this.node.removeFromParent()}}),cc._RF.pop()},{}],enemy_bullet_js:[function(e,t,n){"use strict";cc._RF.push(t,"a22e2i6W49N74x3McScFAzF","enemy_bullet_js"),cc.Class({extends:cc.Component,properties:{speed_x:0,speed_y:-200},onLoad:function(){this.audio=this.node.getComponent(cc.AudioSource)},onCollisionEnter:function(e,t){this.node.removeFromParent(),this.audio.play()},update:function(e){var t=this.speed_x*e,n=this.speed_y*e;this.node.x+=t,this.node.y+=n,this.node.y<-1200&&this.node.removeFromParent()}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"92efb0a8ZpNKLOSuDjkgW50","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","Enemy","Game","Player","bullet_js","enemy_bullet_js"]);